---
interface Props {
  isProfileComplete: boolean;
}
const { isProfileComplete } = Astro.props as Props;

const menuItems = [
  { name: "Postacie", href: "/dashboard", icon: "dashboard" },
  { name: "Zdarzenia", href: "/dashboard/events", icon: "calendar" },
  { name: "Mój profil", href: "/dashboard/profile", icon: "profile" },
];
const visibleItems = isProfileComplete ? menuItems : menuItems.filter((item) => item.name === "Mój profil");
---

<aside class="hidden w-64 flex-shrink-0 border-r bg-muted/40 p-6 md:block">
  <nav class="flex flex-col gap-2">
    {
      visibleItems.map((item) => (
        <a
          href={item.href}
          class:list={[
            "flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary",
            {
              "bg-muted text-primary font-medium": Astro.url.pathname === item.href,
            },
          ]}
        >
          {item.icon === "dashboard" && (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              fill="none"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path stroke="none" d="M0 0h24v24H0z" fill="none" />
              <path d="M4 4h6v8h-6z" />
              <path d="M4 16h6v4h-6z" />
              <path d="M14 12h6v8h-6z" />
              <path d="M14 4h6v4h-6z" />
            </svg>
          )}
          {item.icon === "profile" && (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="icon icon-tabler icon-tabler-user-circle"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              fill="none"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path stroke="none" d="M0 0h24v24H0z" fill="none" />
              <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" />
              <path d="M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
              <path d="M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855" />
            </svg>
          )}
          {item.icon === "calendar" && (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-5 w-5"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              fill="none"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path stroke="none" d="M0 0h24v24H0z" fill="none" />
              <path d="M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z" />
              <path d="M16 3v4" />
              <path d="M8 3v4" />
              <path d="M4 11h16" />
              <path d="M11 15h1" />
              <path d="M12 15v3" />
            </svg>
          )}
          <span>{item.name}</span>
        </a>
      ))
    }
  </nav>
</aside>
